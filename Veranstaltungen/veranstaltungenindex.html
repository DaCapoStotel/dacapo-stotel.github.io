<!DOCTYPE html>
<html lang="de" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Da Capo</title>
  <link rel="stylesheet" href="./veranstaltungenstyle.css">

</head>
<body>
<!-- partial:index.partial.html -->

<div id="page-wrapper">
  <header id="header">
    <div class="logo">
   <a href="https://dacapostotel.github.io/dacapo-stotel.github.io">
         <img id="header-img"  src="https://github.com/DaCapoStotel/dacapo-stotel.github.io/blob/main/assets/DaCapoStotel.png?raw=true"
        alt="DaCapo" >
      </a>
    </div>
    
    <nav id="nav-bar">
      <ul class="nav-list">
        <li><a class="nav-link" href="https://dacapostotel.github.io/dacapo-stotel.github.io">DaCapo</a>&nbsp;>&nbsp;<a class="nav-link" href="https://dacapostotel.github.io/dacapo-stotel.github.io/Veranstaltungen/veranstaltungenindex.html">Aktuelles & Veranstaltungen</a></li>
      </ul>
    </nav>
  </header>

  <div class="container">
    
<!-- START AKTUELLES SECTION -->
    
  <section id="aktuelles">
     <div class="section-header">
    <h2>Aktuelles</h2>
  </div>
    <div class="ul-div">
    <ul>
      <li>06.12.2022: Auftritt Sandstedter Kirche, 19:00 Uhr</li>
      <li>20.12.2022: Auftritt lebendiger Adventskalender, Alte Schule Stotel, 19:00 Uhr</li>
      
  <!-- START EDITABLE TEXT -->
      <p id="editable">This is some editable text.</p>

      <!-- END EDITABLE TEXT -->
      
     <!-- <script>
var curtime = new Date(),
    curday = curtime.getDate(),
    curmonth = curtime.getMonth()+1,
    curyear = curtime.getYear()+1;

if(curmonth <= 12 && curday < 14 && curyear == 2022) {
document.write('<li>20.12.2022: Auftritt lebendiger Adventskalender, Alte Schule Stotel, 19:00 Uhr</li>');
}
</script>
      -->
    </ul>
      </div>
  </section>
    
<!-- END AKTUELLES SECTION -->
<!-- START VERANSTALTUNGEN SECTION -->
    
    <section id="veranstaltungen">
      <div class="grid" style="background: #eee; box-shadow: 0 0  0 white, 0 0 0 0 white;" >
        <div class="section-header">
    <h2>Veranstaltungen</h2>
  </div>
      </div>
      
      <!-- Artike Anfang -->
    </a>
      <a href="https://dacapostotel.github.io/dacapo-stotel.github.io/Veranstaltungen/nikolaus12.2022index.html">
      <div class="grid">
        <div class="icon"><img src="https://github.com/DaCapoStotel/dacapo-stotel.github.io/blob/main/assets/Nikolaskonzert Sandstedt 6 Dezember 2022.jpg?raw=true" style="width: 50%;" /></div>
        <div class="desc">
          <h2>Nikolauskonzert</h2>
          <span class="brverysmall"></span>
          <p>
            Am Dienstag, dem 6. Dezember singen wir um 19.00 Uhr in der St. Johannes Kirche in Sandstedt.
          </p>
        </div>
      </div>
    </a>
      <!-- Artike Ende -->
    <!-- Artike Anfang -->
      <a href="https://dacapostotel.github.io/dacapo-stotel.github.io/Veranstaltungen/subsubpageindex.html">
      <div class="grid">
        <div class="icon"><img src="https://github.com/DaCapoStotel/dacapo-stotel.github.io/blob/main/assets/pexels-photo-236259.jpeg?raw=true"/></div>
        <div class="desc">
          <h2>Brot und Rosen - mit Hörprobe</h2>
          <span class="brverysmall"></span>
          <p>
            Gesungen am 16.03.2019 anlässlich des Internationalen Frauentages in der Mehrzweckhalle Nesse.
          </p>
        </div>
      </div>
        <!-- Artike Ende -->
        
      <!--
   <a href="https://dacapostotel.github.io/dacapo-stotel.github.io/Veranstaltungen/subsubpageindex.html">
      <div class="grid">
        <div class="icon"> 
          <img src="https://github.com/DaCapoStotel/dacapo-stotel.github.io/blob/main/assets/AdobeStock_HomepageBild.ai"/>
        </div>
        <div class="desc">
          <h2>Dies ist ein Platzhalter</h2>
          <span class="brverysmall"></span>
          <p>
            Bei diesem Text handelt es sich um einen Platzhalter. Bei diesem Text handelt es sich um einen Platzhalter. Bei diesem Text handelt es sich um einen Platzhalter.
          </p>
          <script type="text/javascript" src="js/cards.js"></script>
        </div>
    </div>
   </a>
      
  <a href="https://dacapostotel.github.io/dacapo-stotel.github.io/Veranstaltungen/subsubpageindex.html">
      <div class="grid">
        <div class="icon"><img src="https://github.com/DaCapoStotel/dacapo-stotel.github.io/blob/main/assets/AdobeStock_HomepageBild.ai?raw=true"/></div>
        <div class="desc">
          <h2 id="AktuellesJavaScriptTest">Dies ist ein Platzhalter</h2>
          <span class="brverysmall"></span>
          <p>
            Bei diesem Text handelt es sich um einen Platzhalter. Bei diesem Text handelt es sich um einen Platzhalter. Bei diesem Text handelt es sich um einen Platzhalter.
          </p>
        </div>
      </div>
    </a>
      -->
    </section>
<!-- END VERANSTALTUNGEN SECTION -->
    
     <section id="zurueck">
       <div class="zurueck-button">
         <a href="https://dacapostotel.github.io/dacapo-stotel.github.io">
           <div id="zurueck-but">Zurück</div></a>
  </div>
       
    </section>
  
    <footer>
      <ul>
        <li><a class"footer-links" href="https://dacapostotel.github.io/dacapo-stotel.github.io/#about">Über uns</a></li>
        <li><a class"footer-links" href="https://dacapostotel.github.io/dacapo-stotel.github.io/#wowann">Wo & Wann</a></li>
        <li><a class"footer-links" href="https://dacapostotel.github.io/dacapo-stotel.github.io/#contact">Kontakt</a></li>
      </ul>
      <span></span>
      
      <!-- START LOGIN -->
<!-- Login form -->
<form id="login-form">
  <label for="username">Username:</label>
  <input type="text" id="username" name="username">
  <label for="password">Password:</label>
  <input type="password" id="password" name="password">
  <button type="submit">Log in</button>
</form>

<!-- Editing UI -->
<div id="editing-ui" style="display: none;">
  <!-- Editable elements go here -->
  <h1 id="editable-title">This is the title</h1>
  <p id="editable-paragraph">This is some editable text.</p>
  <img id="editable-image" src="image.jpg" alt="image">

  <!-- Editor fields -->
  <label for="title-editor">Title:</label>
  <input type="text" id="title-editor">
  <br>
  <label for="paragraph-editor">Paragraph:</label>
  <textarea id="paragraph-editor"></textarea>
  <br>
  <label for="image-editor">Image URL:</label>
  <input type="text" id="image-editor">
  <br>
  <button id="save-button">Save</button>
</div>

<!-- Logout button -->
<button id="logout-button" style="display: none;">Log out</button>

<script>
  // Get references to the form, editable elements, and editor fields
  const loginForm = document.getElementById('login-form');
  const editingUI = document.getElementById('editing-ui');
  const logoutButton = document.getElementById('logout-button');
  const editableTitle = document.getElementById('editable-title');
  const editableParagraph = document.getElementById('editable-paragraph');
  const editableImage = document.getElementById('editable-image');
  const titleEditor = document.getElementById('title-editor');
  const paragraphEditor = document.getElementById('paragraph-editor');
  const imageEditor = document.getElementById('image-editor');
  const saveButton = document.getElementById('save-button');

  // Check the logged-in status of the user when the page loads
  const xhr = new XMLHttpRequest();
  xhr.open('GET', '/logged-in');
  xhr.onload = () => {
    if (xhr.responseText === 'true') {
      // If the user is logged in, show the editing UI and logout button
      loginForm.style.display = 'none';
      editingUI.style.display = 'block';
      logoutButton.style.display = 'block';

      // Update the editor fields with the text from the editable elements
      titleEditor.value = editableTitle.textContent;
      paragraphEditor.value = editableParagraph.textContent;
      imageEditor.value = editableImage.src;
    } else {
      // If the user is not logged in, show the login form
      loginForm.style.display = 'block';
  	editingUI.style.display = 'none';
  	logoutButton.style.display = 'none';
};
  xhr.send();
});
  // Log the user in when the login form is submitted
  loginForm.addEventListener('submit', (event) => {
    event.preventDefault();
    const formData = new FormData(loginForm);
    const xhr = new XMLHttpRequest();
    xhr.open('POST', '/login');
    xhr.onload = () => {
      if (xhr.status === 200) {
        // If the login is successful, refresh the page
        window.location.reload();
      } else {
        // If the login is unsuccessful, display an error message
        alert('Invalid username or password');
      }
    };
    xhr.send(formData);
  });

  // Log the user out when the logout button is clicked
  logoutButton.addEventListener('click', () => {
    const xhr = new XMLHttpRequest();
    xhr.open('POST', '/logout');
    xhr.onload = () => {
      // Refresh the page after logging out
      window.location.reload();
    };
    xhr.send();
  });

  // Save the changes when the user clicks the save button
  saveButton.addEventListener('click', () => {
    // Update the editable elements with the text from the editor fields
    editableTitle.textContent = titleEditor.value;
    editableParagraph.textContent = paragraphEditor.value;
    editableImage.src = imageEditor.value;

    // Send the updated HTML to the server to be saved
    const xhr = new XMLHttpRequest();
    xhr.open('POST', '/save-edits');
    xhr.send(document.body.innerHTML);
  });
</script>
<!-- END LOGIN -->
      
    </footer>
  </div>
</div>
<!-- partial -->
  
</body>
</html>
